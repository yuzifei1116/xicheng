(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/product"],{"0164":function(t,e,o){},"34ec":function(t,e,o){"use strict";o.r(e);var n=o("c83b"),c=o("cbf5");for(var r in c)"default"!==r&&function(t){o.d(e,t,function(){return c[t]})}(r);o("4259");var u,s=o("f0c5"),i=Object(s["a"])(c["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=i.exports},4259:function(t,e,o){"use strict";var n=o("0164"),c=o.n(n);c.a},c83b:function(t,e,o){"use strict";var n,c=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.storeInfo.slider_image,function(e,o){var n=t.indexUrl(e);return{$orig:t.__get_orig(e),m0:n}})),n=t.indexUrl(t.productSelect.image);t.$mp.data=Object.assign({},{$root:{l0:o,m1:n}})},r=[];o.d(e,"b",function(){return c}),o.d(e,"c",function(){return r}),o.d(e,"a",function(){return n})},cbf5:function(t,e,o){"use strict";o.r(e);var n=o("e8d3"),c=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);e["default"]=c.a},d54f:function(t,e,o){"use strict";(function(t){o("3c4b"),o("921b");n(o("66fd"));var e=n(o("34ec"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},e8d3:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return o.e("components/share").then(o.bind(null,"d8fe"))},c={components:{share:n},data:function(){return{testNum:[],specClass:"none",specSelected:[],productAttr:[],testarr:[],productValue:[],productSelect:[],storeInfo:[{store_name:""}],value:[],banner:[],detid:0,favorite:!1,shareList:[],clickId:0,num:1,unique:""}},onLoad:function(t){var e=this;e.detid=t.id,e.details();t.id},methods:{details:function(){var t=this,e="/gzh/store_api/details?id="+t.detid;getApp().http(e,{},function(e){t.storeInfo=e.storeInfo;var o=t.storeInfo.slider_image[0],n=o.replace(/http[s]?:\/\/[^\/]+/,"");console.log(t.storeInfo,"测试测试测试测试"),getApp().user_api(!0,t.storeInfo.store_name,t.storeInfo.store_info,n);for(var c=0;c<e.productAttr.length;c++)t.testNum.push(0),t.value[c]=e.productAttr[c].attr_values[0];t.productAttr=e.productAttr,t.testarr=e.productAttr,t.productValue=e.productValue;var r=t.value,u=r.join(",");u?(t.productSelect=t.productValue[u],t.unique=t.productSelect.unique,console.log("不为空",t.unique)):(console.log("空"),t.productSelect.image=t.storeInfo.slider_image[0],t.productSelect.price=t.storeInfo.price,t.productSelect.stock=t.storeInfo.stock)})},toggleSpec:function(t){var e=this;"show"===this.specClass?(this.specClass="hide",setTimeout(function(){e.specClass="none"},250)):"none"===this.specClass&&(this.specClass="show",this.clickId=t.currentTarget.dataset.id,console.log("点击",t),console.log("打开",this.clickId))},selectSpec:function(t,e,o){var n=this;n.testNum[t]=e,n.productAttr=[],n.$nextTick(function(){n.productAttr=n.testarr;var e=n.value;n.value[t]=o;var c=e.join(",");n.productSelect=n.productValue[c],n.unique=n.productSelect.unique,console.log("啊啊啊啊啊",n.unique)}),console.log(t,e,o)},addNum:function(){var t=this;console.log("数量",t.num,t.productSelect.stockself),t.num>=t.productSelect.stock?console.log("不加"):(console.log("加"),t.num=t.num+1)},reduceNum:function(){var t=this;1==t.num?console.log("不减"):t.num=t.num-1},complete:function(){var e=this;if(e.specClass="hide",setTimeout(function(){e.specClass="none"},250),console.log("完成",e.clickId),"1"==e.clickId){console.log("购物车");var o="/gzh/auth_api/set_cart",n={productId:e.detid,cartNum:e.num,uniqueId:e.unique};getApp().http(o,n,function(t){console.log("数据",t),200==t.code&&getApp().showTip(t.msg,"success")},!0)}else{var c="/gzh/deal_api/now_buy",r={productId:e.detid,cartNum:e.num,uniqueId:e.unique,combinationId:0,secKillId:0,bargainId:0};getApp().http(c,r,function(e){console.log("购买",e),200==e.code?t.navigateTo({url:"/pages/order/createOrder?cartId="+e.data.cartId}):getApp().showTip(e.msg,"none")},!0,"post")}},indexUrl:function(t){var e=t.indexOf("http");return-1==e?this.webUrl+"/"+t:t},share:function(){},toFavorite:function(){var t=this;if(t.storeInfo.userCollect=!t.storeInfo.userCollect,t.storeInfo.userCollect){var e="/gzh/store_api/collect_product",o={productId:t.detid};getApp().http(e,o,function(e){console.log("收藏",t.favorite),200==e.code?getApp().showTip(e.msg,"success"):getApp().showTip(e.msg,"none")},!0)}else{console.log("取消");var n="/gzh/store_api/uncollect_product",c={productId:t.detid};getApp().http(n,c,function(t){200==t.code?getApp().showTip(t.msg,"success"):getApp().showTip(t.msg,"none")},!0)}},buy:function(){t.navigateTo({url:"/pages/order/createOrder"})},stopPrevent:function(){}}};e.default=c}).call(this,o("543d")["default"])}},[["d54f","common/runtime","common/vendor"]]]);