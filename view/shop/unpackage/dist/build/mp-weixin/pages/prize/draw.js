(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/prize/draw"],{"41e7":function(t,i,n){"use strict";(function(t){n("3c4b"),n("921b");e(n("66fd"));var i=e(n("a39b"));function e(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,n("543d")["createPage"])},"7b2f":function(t,i,n){"use strict";var e,a=function(){var t=this,i=t.$createElement,n=(t._self._c,t.__map(t.list,function(i,n){var e=t.indexUrl(i.image);return{$orig:t.__get_orig(i),m0:e}})),e=t.indexUrl(t.draw.image);t.$mp.data=Object.assign({},{$root:{l0:n,m1:e}})},r=[];n.d(i,"b",function(){return a}),n.d(i,"c",function(){return r}),n.d(i,"a",function(){return e})},a39b:function(t,i,n){"use strict";n.r(i);var e=n("7b2f"),a=n("d01d");for(var r in a)"default"!==r&&function(t){n.d(i,t,function(){return a[t]})}(r);n("c1c0");var o,c=n("f0c5"),u=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,"7e0ccec2",null,!1,e["a"],o);i["default"]=u.exports},b83f:function(t,i,n){},c1c0:function(t,i,n){"use strict";var e=n("b83f"),a=n.n(e);a.a},d01d:function(t,i,n){"use strict";n.r(i);var e=n("eab4"),a=n.n(e);for(var r in e)"default"!==r&&function(t){n.d(i,t,function(){return e[t]})}(r);i["default"]=a.a},eab4:function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{list:[],width:0,animationData:{},btnDisabled:"",act_id:0,noticeInfo:[],checkClassNum:1,allhidden:!1,draw:[],time:3e3}},onLoad:function(t){console.log("说得对覆盖",t),getApp().user_api(!0),this.act_id=t.id,this.activityDetail()},methods:{activityDetail:function(){var t=this,i="/gzh/activity_api/activity_detail",n={act_id:t.act_id};getApp().http(i,n,function(i){console.log("个人信息",i),t.noticeInfo=i,t.list=i.prize,t.width=360/t.list.length})},animation:function(i,n){var e=this.list,a=4;this.runDeg=this.runDeg||0,this.runDeg=this.runDeg+(360-this.runDeg%360)+(360*a-i*(360/e.length))+1;var r=t.createAnimation({duration:n,timingFunction:"ease"});r.rotate(this.runDeg).step(),this.animationData=r.export()},playReward:function(){var t=this,i=t.noticeInfo.start_time,n=new Date(i),e=Date.parse(n),a=e/1e3,r=t.noticeInfo.end_time,o=new Date(r),c=Date.parse(o),u=c/1e3,s=new Date,l=Date.parse(s),d=l/1e3;if(d<a)getApp().showTip("活动未开始","none");else if(d>u)getApp().showTip("活动已结束","none");else{if(t.noticeInfo.prize_num<=0)return this.btnDisabled="disabled",void getApp().showTip("抽奖次数已用完","none");var f=t.list,p="/gzh/activity_api/prize_draw",h={act_id:t.act_id};getApp().http(p,h,function(i){t.draw=i,t.noticeInfo.prize_num=t.noticeInfo.prize_num-1;var n=t.inArray(i.prize_id,f),e=n,a=t.time;t.animation(e,a),setTimeout(function(){t.allClass()},t.time)})}},inArray:function(t,i){for(var n in i)if(i[n].id==t)return n;return!1},allClass:function(){var t=this;t.allhidden=!0},hideAllClass:function(){console.log("隐藏隐藏隐藏隐藏");var t=this;console.log(this),t.allhidden=!1},indexUrl:function(t){var i=t.indexOf("http");return-1==i?this.webUrl+"/"+t:t}}};i.default=n}).call(this,n("543d")["default"])}},[["41e7","common/runtime","common/vendor"]]]);