(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cart-cart"],{"0a20":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-load-more[data-v-a38d3bf8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-load-more__text[data-v-a38d3bf8]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-a38d3bf8]{height:24px;width:24px;margin-right:10px}.uni-load-more__img>uni-view[data-v-a38d3bf8]{position:absolute}.uni-load-more__img>uni-view uni-view[data-v-a38d3bf8]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-a38d3bf8 1.56s ease infinite;animation:load-data-v-a38d3bf8 1.56s ease infinite}.uni-load-more__img>uni-view uni-view[data-v-a38d3bf8]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img>uni-view uni-view[data-v-a38d3bf8]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img>uni-view uni-view[data-v-a38d3bf8]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img>uni-view uni-view[data-v-a38d3bf8]:nth-child(4){top:11px;left:0}.load1[data-v-a38d3bf8],\n.load2[data-v-a38d3bf8],\n.load3[data-v-a38d3bf8]{height:24px;width:24px}.load2[data-v-a38d3bf8]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-a38d3bf8]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 uni-view[data-v-a38d3bf8]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-a38d3bf8]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-a38d3bf8]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-a38d3bf8]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-a38d3bf8]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-a38d3bf8]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-a38d3bf8]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-a38d3bf8]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-a38d3bf8]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-a38d3bf8]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-a38d3bf8]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-a38d3bf8]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-a38d3bf8{0%{opacity:1}100%{opacity:.2}}",""])},"1dc7":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status&&t.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"uni-load-more__text",style:{color:t.color}},[t._v(t._s("more"===t.status?t.contentText.contentdown:"loading"===t.status?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"2a62":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-numbox"},[i("v-uni-view",{staticClass:"uni-numbox-minus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("subtract")}}},[i("v-uni-text",{staticClass:"yticon icon--jianhao",class:t.minDisabled?"uni-numbox-disabled":""})],1),i("v-uni-view",{staticClass:"uni-numbox-value",attrs:{disabled:t.disabled}},[t._v(t._s(t.inputValue))]),i("v-uni-view",{staticClass:"uni-numbox-plus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("add")}}},[i("v-uni-text",{staticClass:"yticon icon-jia2",class:t.maxDisabled?"uni-numbox-disabled":""})],1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"2de1":function(t,e,i){"use strict";var a=i("36f2"),n=i.n(a);n.a},"346d":function(t,e,i){"use strict";i.r(e);var a=i("fa3e"),n=i("63c2");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("2de1");var c,l=i("f0c5"),r=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"5b4de97c",null,!1,a["a"],c);e["default"]=r.exports},"36d5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-load-more",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};e.default=a},"36f2":function(t,e,i){var a=i("c7f6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("45ca68c6",a,!0,{sourceMap:!1,shadowMode:!1})},"5d13":function(t,e,i){var a=i("0a20");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("c9e257c8",a,!0,{sourceMap:!1,shadowMode:!1})},"63c2":function(t,e,i){"use strict";i.r(e);var a=i("fd67"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},b4fc:function(t,e,i){"use strict";i.r(e);var a=i("1dc7"),n=i("d3e9");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("ceb4");var c,l=i("f0c5"),r=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"a38d3bf8",null,!1,a["a"],c);e["default"]=r.exports},b82e:function(t,e,i){"use strict";var a=i("f5ef"),n=i.n(a);n.a},c53d:function(t,e,i){"use strict";i.r(e);var a=i("ee0c"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},c7f6:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.allshop[data-v-5b4de97c]{font-size:%?30?%;line-height:%?50?%;margin-left:%?10?%}\n/* 数量 */.cnum[data-v-5b4de97c]{\r\n\t/* border:2upx solid #A4A4A4; */\r\n\t/* padding:4upx  0upx ; */width:%?244?%;margin-top:%?20?%}.clnum[data-v-5b4de97c]{width:%?80?%;text-align:center;line-height:%?50?%}.clnuml[data-v-5b4de97c]{color:#a4a4a4;font-weight:700;border:%?1?% solid #a4a4a4;border-right:0;font-size:%?40?%;border-radius:%?5?% %?0?% %?0?% %?5?%}.onnuml[data-v-5b4de97c]{border:1px solid #e3e3e3;color:#e3e3e3;border-right:0}.clnumr[data-v-5b4de97c]{color:#a4a4a4;font-weight:700;font-size:%?40?%;border:%?1?% solid #a4a4a4;border-left:0;border-radius:%?0?% %?5?% %?5?% %?0?%}.onnumr[data-v-5b4de97c]{border:1px solid #e3e3e3;color:#e3e3e3;border-left:0}.clinum[data-v-5b4de97c]{border:1px solid #a4a4a4;font-size:%?30?%\r\n\t/* border-right:1px solid #A4A4A4; */}.container[data-v-5b4de97c]{padding-bottom:%?134?%\n  /* 空白页 */}.container .empty[data-v-5b4de97c]{position:fixed;left:0;top:0;width:100%;height:100vh;padding-bottom:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff}.container .empty uni-image[data-v-5b4de97c]{width:%?240?%;height:%?160?%;margin-bottom:%?30?%}.container .empty .empty-tips[data-v-5b4de97c]{display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?26?%;color:#c0c4cc}.container .empty .empty-tips .navigator[data-v-5b4de97c]{color:#fa436a;margin-left:%?16?%}\n/* 购物车列表项 */.cart-item[data-v-5b4de97c]{display:-webkit-box;display:-webkit-flex;display:flex;position:relative;padding:%?30?% %?40?%}.cart-item .image-wrapper[data-v-5b4de97c]{width:%?230?%;height:%?230?%;-webkit-flex-shrink:0;flex-shrink:0;position:relative}.cart-item .image-wrapper uni-image[data-v-5b4de97c]{border-radius:%?8?%}.cart-item .checkbox[data-v-5b4de97c]{position:absolute;left:%?-16?%;top:%?-16?%;z-index:8;font-size:%?44?%;line-height:1;padding:%?4?%;color:#c0c4cc;background:#fff;border-radius:50px}.cart-item .item-right[data-v-5b4de97c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;position:relative;padding-left:%?30?%}.cart-item .item-right .title[data-v-5b4de97c], .cart-item .item-right .price[data-v-5b4de97c]{font-size:%?30?%;color:#303133;height:%?40?%;line-height:%?40?%}.cart-item .item-right .attr[data-v-5b4de97c]{font-size:%?26?%;color:#909399;height:%?50?%;line-height:%?50?%}.cart-item .item-right .price[data-v-5b4de97c]{height:%?50?%;line-height:%?50?%}.cart-item .del-btn[data-v-5b4de97c]{padding:%?4?% %?10?%;font-size:%?34?%;height:%?50?%;color:#909399}\n/* 底部栏 */.action-section[data-v-5b4de97c]{margin-bottom:%?100?%;position:fixed;left:%?30?%;bottom:%?30?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?690?%;height:%?100?%;padding:0 %?30?%;background:hsla(0,0%,100%,.9);box-shadow:0 0 %?20?% 0 rgba(0,0,0,.5);border-radius:%?16?%}.action-section .checkbox[data-v-5b4de97c]{height:%?52?%;position:relative}.action-section .checkbox uni-image[data-v-5b4de97c]{width:%?52?%;height:100%;position:relative;z-index:5}.action-section .clear-btn[data-v-5b4de97c]{position:absolute;left:%?26?%;top:0;z-index:4;width:0;height:%?52?%;line-height:%?52?%;padding-left:%?38?%;font-size:%?28?%;color:#fff;background:#c0c4cc;border-radius:0 50px 50px 0;opacity:0;-webkit-transition:.2s;transition:.2s}.action-section .clear-btn.show[data-v-5b4de97c]{opacity:1;width:%?120?%}.action-section .total-box[data-v-5b4de97c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;text-align:right;padding-right:%?40?%}.action-section .total-box .price[data-v-5b4de97c]{font-size:%?32?%;color:#303133}.action-section .total-box .coupon[data-v-5b4de97c]{font-size:%?24?%;color:#909399}.action-section .total-box .coupon uni-text[data-v-5b4de97c]{color:#303133}.action-section .confirm-btn[data-v-5b4de97c]{padding:0 %?38?%;margin:0;border-radius:100px;height:%?76?%;line-height:%?76?%;font-size:%?30?%;background:#fa436a;box-shadow:1px 2px 5px rgba(217,60,93,.72)}\n/* 复选框选中状态 */.action-section .checkbox.checked[data-v-5b4de97c],\n.cart-item .checkbox.checked[data-v-5b4de97c]{color:#fa436a}',""])},cb49:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-numbox[data-v-01d4c068]{position:absolute;left:%?30?%;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?230?%;height:%?70?%;background:#f5f5f5}.uni-numbox-minus[data-v-01d4c068],\n.uni-numbox-plus[data-v-01d4c068]{margin:0;background-color:#f5f5f5;width:%?70?%;height:100%;line-height:%?70?%;text-align:center;position:relative}.uni-numbox-minus .yticon[data-v-01d4c068],\n.uni-numbox-plus .yticon[data-v-01d4c068]{font-size:%?36?%;color:#555}.uni-numbox-minus[data-v-01d4c068]{border-right:none;border-top-left-radius:%?6?%;border-bottom-left-radius:%?6?%}.uni-numbox-plus[data-v-01d4c068]{border-left:none;border-top-right-radius:%?6?%;border-bottom-right-radius:%?6?%}.uni-numbox-value[data-v-01d4c068]{position:relative;background-color:#f5f5f5;width:%?90?%;height:%?50?%;text-align:center;padding:0;font-size:%?30?%}.uni-numbox-disabled.yticon[data-v-01d4c068]{color:#d6d6d6}",""])},ceb4:function(t,e,i){"use strict";var a=i("5d13"),n=i.n(a);n.a},d3e9:function(t,e,i){"use strict";i.r(e);var a=i("36d5"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},e5e9:function(t,e,i){"use strict";i.r(e);var a=i("2a62"),n=i("c53d");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("b82e");var c,l=i("f0c5"),r=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"01d4c068",null,!1,a["a"],c);e["default"]=r.exports},ee0c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("28a5"),i("c5f6");var a={name:"uni-number-box",props:{isMax:{type:Boolean,default:!1},isMin:{type:Boolean,default:!1},index:{type:Number,default:0},value:{type:Number,default:0},min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},dataItem:{type:Object,default:null}},data:function(){return{inputValue:this.value,minDisabled:!1,maxDisabled:!1}},created:function(){this.maxDisabled=this.isMax,this.minDisabled=this.isMin},computed:{},watch:{inputValue:function(t){var e={number:t,index:this.index};this.$emit("eventChange",e)}},methods:{_calcValue:function(t){var e=this._getDecimalScale(),i=this.inputValue*e,a=0,n=this.step*e,o=this.dataItem.id;console.log(i),console.log("12311111111111"),"subtract"===t?(a=i-n,console.log(a),console.log("减",a),a<=this.min&&(this.minDisabled=!0,a&&this.clickNum(o,a),console.log("aaaa",1)),a<this.min&&(a=this.min,console.log("aaaa",2)),a<this.max&&!0===this.maxDisabled&&(this.maxDisabled=!1,console.log("aaaa",3))):"add"===t&&(a=i+n,console.log("加1",a,this.max,i),i>=this.max?(this.maxDisabled=!0,a=this.max,console.log("不加")):this.clickNum(o,a),a>this.min&&!0===this.minDisabled&&(this.minDisabled=!1,console.log("aaaa",3))),a!==i&&(this.inputValue=a/e)},clickNum:function(t,e){var i="/gzh/auth_api/change_cart_num",a={cartId:t,cartNum:e};getApp().http(i,a,function(t){console.log(t)})},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var e=t.detail.value;e?(e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min),this.inputValue=e):this.inputValue=0}}};e.default=a},f5ef:function(t,e,i){var a=i("cb49");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5104177c",a,!0,{sourceMap:!1,shadowMode:!1})},fa3e:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",[i("v-uni-view",{staticClass:"cart-list"},[t._l(t.cartList,function(e,a){return[i("v-uni-view",{key:e.id+"_0",staticClass:"cart-item",class:{"b-b":a!==t.cartList.length-1}},[i("v-uni-view",{staticClass:"image-wrapper"},[i("v-uni-image",{staticClass:"loaded",attrs:{src:t.indexUrl(e.productInfo.image),mode:"aspectFill","lazy-load":!0},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.nav(e.productInfo.id)}}}),i("v-uni-view",{staticClass:"yticon icon-xuanzhong2 checkbox",class:{checked:e.checked},attrs:{"data-id":1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.check("item",a,e)}}})],1),i("v-uni-view",{staticClass:"item-right"},[i("v-uni-text",{staticClass:"clamp title"},[t._v(t._s(e.productInfo.store_name))]),e.productInfo.attrInfo?i("v-uni-text",[i("v-uni-text",{staticClass:"attr"},[t._v(t._s(e.productInfo.attrInfo.suk))])],1):i("v-uni-text"),i("v-uni-text",{staticClass:"price"},[t._v("¥"+t._s(e.productInfo.attrInfo?e.productInfo.attrInfo.price:e.productInfo.price))]),i("v-uni-view",{staticClass:"acea-row cnum"},[i("v-uni-view",{staticClass:"clnum clnuml",class:{onnuml:e.cart_num<=1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.reduceNum(a,e)}}},[t._v("-")]),i("v-uni-view",{staticClass:"clnum clinum"},[t._v(t._s(e.cart_num))]),i("v-uni-view",{staticClass:"clnum clnumr",class:{onnumr:e.cart_num>=[e.productInfo.attrInfo?e.productInfo.attrInfo.stock:e.productInfo.stock]},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addNum(a,e)}}},[t._v("+")])],1)],1),t.clickdel?i("v-uni-text",[i("v-uni-text",{staticClass:"del-btn yticon icon-fork",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteCartItem(e)}}})],1):t._e()],1)]})],2),i("v-uni-view",{staticClass:"action-section"},[i("v-uni-view",{staticClass:"checkbox acea-row"},[i("v-uni-image",{attrs:{src:t.allChecked?"/static/selected.png":"/static/select.png",mode:"aspectFit"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.check("all")}}}),i("v-uni-view",{staticClass:"allshop"},[t._v("全选")])],1),i("v-uni-view",{staticClass:"total-box"},[i("v-uni-text",{staticClass:"price"},[t._v("¥"+t._s(t.total))])],1),i("v-uni-button",{staticClass:"no-border confirm-btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createOrder.apply(void 0,arguments)}}},[t._v("去结算")])],1)],1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},fd67:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6b54"),i("c5f6"),i("6762"),i("2fdb"),i("ac6a");var n=a(i("cebc")),o=i("2f62"),c=a(i("e5e9")),l=a(i("b4fc")),r={components:{uniNumberBox:c.default,uniLoadMore:l.default},data:function(){return{total:0,allChecked:!1,empty:!1,cartList:[],cartListArr:[],num:1,selectValue:[],source:0,addressList:[],scrollHeight:100,tabScrollTop:0,contentText:{contentdown:"上拉加载更多",contentrefresh:"加载中",contentnomore:"我是有底线的"},page:1,limit:2,status:"more",clickdel:!0}},onLoad:function(){this.calcSize(),getApp().user_api(!0)},onShow:function(){this.selectValue=[],this.total=0,this.allChecked=!1,this.getCartList()},watch:{cartList:function(t){}},computed:(0,n.default)({},(0,o.mapState)(["hasLogin"])),methods:{getCartList:function(){var t=this,e="/gzh/auth_api/get_cart_list";getApp().http(e,{},function(e){t.cartList=e.valid,t.cartListArr=e.valid,console.log(e),console.log(t.cartList),console.log("============456465456")})},nav:function(t){uni.navigateTo({url:"/pages/product/product?id="+t})},indexUrl:function(t){var e=t.indexOf("http");return-1==e?this.webUrl+"/"+t:t},onImageLoad:function(t,e){this.$set(this[t][e],"loaded","loaded")},onImageError:function(t,e){this[t][e].image="/static/errorImage.jpg"},navToLogin:function(){uni.navigateTo({url:"/pages/public/login"})},check:function(t,e,i){var a=this;if(console.log(t,e,i),"item"===t)this.cartList=[],this.$nextTick(function(){a.cartList=a.cartListArr,a.cartList[e].checked=!a.cartList[e].checked;a.cartList[e].checked;var t=a.selectValue,i=a.cartList[e].id,n=t.indexOf(i);"-1"==n?(console.log("不存在"),t.push(i)):(console.log("存在 不添加",n),t.splice(n,1)),a.calcTotal()});else{var n=!this.allChecked,o=this.cartList;if(o.forEach(function(t){t.checked=n}),console.log("dddddddddddddd",this.allChecked),this.allChecked?this.clickdel=!0:this.clickdel=!1,console.log("全选选中",this.allChecked),this.allChecked)this.selectValue=[];else{this.selectValue=[];for(var c=0;c<this.cartList.length;c++){console.log("全选");var l=this.selectValue,r=this.cartList[c].id;l.indexOf(r);l.push(r)}}console.log("全选",this.selectValue),this.calcTotal()}},addNum:function(t,e){var i=this,a=i.cartList[t].productInfo,n=a.attrInfo?a.attrInfo.stock:a.stock;if(console.log(n),console.log("数量",t,e,i.cartList),e.cart_num>=n)console.log("不加");else{console.log("加");var o=i.cartList[t].id;i.cartList[t].cart_num=e.cart_num+1,i.clickNum(o,i.cartList[t].cart_num)}i.calcTotal()},reduceNum:function(t,e){var i=this;if(console.log(i.cartList[t].cart_num),console.log("啊啊啊啊",t,e),1==e.cart_num)console.log("不减");else{var a=i.cartList[t].id;i.cartList[t].cart_num=e.cart_num-1,i.clickNum(a,i.cartList[t].cart_num)}i.calcTotal()},clickNum:function(t,e){var i="/gzh/auth_api/change_cart_num",a={cartId:t,cartNum:e};getApp().http(i,a,function(t){console.log(t)})},deleteCartItem:function(t){var e=this,i=t.id;uni.showModal({title:"删除",content:"确定删除商品吗",success:function(a){if(console.log("sssss"),1==a.confirm){var n="/gzh/auth_api/remove_cart",o={ids:i};getApp().http(n,o,function(t){200==t.code&&(getApp().showTip(t.msg,"success"),e.getCartList()),console.log(t)},!0),console.log("删除",t),e.calcTotal(),uni.hideLoading()}}})},clearCart:function(){var t=this;uni.showModal({content:"清空购物车？",success:function(e){e.confirm&&(t.cartList=[])}})},calcTotal:function(){var t=this,e=t.cartList,i=t.selectValue,a=0;if(console.log("选中",i.length),console.log("列表",e.length),i.length==e.length?t.allChecked=!0:t.allChecked=!1,i.length<1)t.total=0;else for(var n in e){var o=i.includes(e[n].id),c=e[n].productInfo.attrInfo?e[n].productInfo.attrInfo.price:e[n].productInfo.price;o&&(a=Number(a)+Number(e[n].cart_num)*Number(c),t.total=a)}},scroAddr:function(){var t=this;t.status&&t.getCartList()},calcSize:function(){var t=this;uni.getSystemInfo({success:function(e){var i=uni.createSelectorQuery().select(".container");t.scrollHeight=e.windowHeight-200,console.log(i),console.log(t.scrollHeight),console.log("高度高度高度高度高度高度",e)}})},createOrder:function(){var t=this,e=t.selectValue,i=e.toString();console.log("的风格的风格地方",i);""==e?getApp().showTip("您还没有选择要购买的商品","none"):uni.navigateTo({url:"/pages/order/createOrder?cartId="+i})}}};e.default=r}}]);