(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-createOrder"],{"2e21":function(e,t,i){"use strict";i.r(t);var a=i("bf42"),o=i("ee4c");for(var n in o)"default"!==n&&function(e){i.d(t,e,function(){return o[e]})}(n);i("f81d");var s,c=i("f0c5"),l=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"ea3e469e",null,!1,a["a"],s);t["default"]=l.exports},bf42:function(e,t,i){"use strict";var a,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)},reset:function(t){arguments[0]=t=e.$handleEvent(t),e.formReset.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"address-section",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickAdd.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"order-content"},[i("v-uni-text",{staticClass:"yticon icon-shouhuodizhi"}),i("v-uni-view",{staticClass:"cen"},[""==e.addressData?i("v-uni-view",[i("v-uni-view",{},[e._v("设置收货地址")])],1):i("v-uni-view",[i("v-uni-view",{staticClass:"top"},[i("v-uni-text",{staticClass:"name"},[e._v(e._s(e.addressData.real_name))]),i("v-uni-text",{staticClass:"mobile"},[e._v(e._s(e.addressData.phone))])],1),i("v-uni-text",{staticClass:"address"},[e._v(e._s(e.addressData.province)+e._s(e.addressData.city)+e._s(e.addressData.district)+" "+e._s(e.addressData.detail))])],1)],1),i("v-uni-text",{staticClass:"yticon icon-you"})],1)],1),i("v-uni-image",{staticClass:"a-bg",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAAFCAYAAAAaAWmiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Rjk3RjkzMjM2NzMxMTFFOUI4RkU4OEZGMDcxQzgzOEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Rjk3RjkzMjQ2NzMxMTFFOUI4RkU4OEZGMDcxQzgzOEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOTdGOTMyMTY3MzExMUU5QjhGRTg4RkYwNzFDODM4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOTdGOTMyMjY3MzExMUU5QjhGRTg4RkYwNzFDODM4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrEOZlQAAAiuSURBVHjazJp7bFvV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"}}),i("v-uni-view",{staticClass:"goods-section"},[i("v-uni-view",{staticClass:"g-header b-b"},[i("v-uni-text",{staticClass:"name"},[e._v("共"+e._s(e.cartInfo.length)+"件商品")])],1),e._l(e.cartInfo,function(t,a){return i("v-uni-view",{key:a},[i("v-uni-view",{staticClass:"g-item"},[i("v-uni-image",{attrs:{src:e.indexUrl(t.productInfo.image)}}),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"title clamp"},[e._v(e._s(t.productInfo.store_name))]),i("v-uni-text",{staticClass:"spec"},[e._v(e._s(t.productInfo.attrInfo?t.productInfo.attrInfo.suk:""))]),i("v-uni-view",{staticClass:"price-box"},[i("v-uni-text",{staticClass:"price"},[e._v("￥"+e._s(t.productInfo.attrInfo?t.productInfo.attrInfo.price:t.productInfo.price))]),i("v-uni-text",{staticClass:"number"},[e._v("x "+e._s(t.cart_num))])],1)],1)],1)],1)})],2),e.confirmOrder.seckill_id<=0&&e.confirmOrder.combination_id<=0&&e.confirmOrder.presale_id<=0?i("v-uni-view",{staticClass:"yt-list"},[e.check?e._e():i("v-uni-view",{staticClass:"yt-list-cell b-b",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleMask("show")}}},[i("v-uni-view",{staticClass:"cell-icon"},[e._v("券")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("优惠券")]),e.isCoupon?i("v-uni-text",[i("v-uni-text",{staticClass:"cell-tip active"},[e._v(e._s(e.couponName))])],1):i("v-uni-text",[i("v-uni-text",{staticClass:"cell-tip active"},[e._v(e._s(e.isCouponName))])],1),i("v-uni-text",{staticClass:"cell-more wanjia wanjia-gengduo-d"})],1),e.isCoupon?e._e():i("v-uni-view",[0!=e.confirmOrder.integralRatio?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-view",{staticClass:"cell-icon hb"},[e._v("减")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("积分抵扣")]),i("v-uni-text",{staticClass:"cell-tip disabled"},[e._v("剩余积分"),i("v-uni-text",{staticClass:"int-s"},[e._v(e._s(e.userInfo.integral))])],1),i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}}},[i("v-uni-checkbox",{staticStyle:{transform:"scale(0.8)"},attrs:{value:"cb",color:"#FA436A"}})],1)],1):e._e()],1)],1):e._e(),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("商品金额")]),i("v-uni-text",{staticClass:"cell-tip"},[e._v("￥"+e._s(e.total))])],1),e.isCoupon?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("优惠金额")]),i("v-uni-text",{staticClass:"cell-tip red"},[e._v("-￥"+e._s(e.discountPrice))])],1):e._e(),e.check?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("抵扣金额")]),i("v-uni-text",{staticClass:"cell-tip red"},[e._v("-￥"+e._s(e.deductIntPrice))])],1):e._e(),e.confirmOrder.priceGroup.vipPrice?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("会员减免")]),i("v-uni-text",{staticClass:"cell-tip"},[e._v(e._s(e.confirmOrder.priceGroup.vipPrice))])],1):e._e(),Number(e.confirmOrder.priceGroup.storePostage)<=0?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("运费")]),i("v-uni-text",{staticClass:"cell-tip"},[e._v("免运费")])],1):i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("运费")]),i("v-uni-text",{staticClass:"cell-tip red"},[e._v("￥"+e._s(e.confirmOrder.priceGroup.storePostage))])],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[e._v("备注")]),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",name:"mark",placeholder:"请填写备注信息","placeholder-class":"placeholder"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1)],1),i("v-uni-view",{staticClass:"goods-section"},[i("v-uni-view",{staticClass:"g-header b-b"},[i("v-uni-text",{staticClass:"name"},[e._v("支付方式")])],1),i("v-uni-view",{staticClass:"zf acea-row",class:{is:1==e.isZf},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.payment("1")}}},[i("v-uni-view",{staticClass:"zfimg aces-center"},[i("v-uni-image",{staticClass:"zhfimg",attrs:{src:"../../static/9Q3S.png"}}),i("v-uni-view",{},[e._v("微信支付")])],1),i("v-uni-view",{staticClass:"zftit"},[e._v("微信快捷支付")])],1),i("v-uni-view",{staticClass:"zf acea-row",class:{is:2==e.isZf},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.payment("2")}}},[i("v-uni-view",{staticClass:"zfimg aces-center"},[i("v-uni-image",{staticClass:"zhfimg",attrs:{src:"../../static/9Q3Sw.png"}}),i("v-uni-view",{},[e._v("余额支付")])],1),i("v-uni-view",{staticClass:"zftit"},[e._v("可用余额:"+e._s(e.now_money))])],1)],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"price-content"},[i("v-uni-text",[e._v("实付款")]),i("v-uni-text",{staticClass:"price-tip"},[e._v("￥")]),i("v-uni-text",{staticClass:"price"},[e._v(e._s(e.isTotal))])],1),i("v-uni-view",[i("v-uni-button",{staticClass:"submit",attrs:{"form-type":"submit"}},[e._v("立即结算")])],1)],1),i("v-uni-view",{staticClass:"mask",class:0===e.maskState?"none":1===e.maskState?"show":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleMask.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"mask-content",on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.stopPrevent.apply(void 0,arguments)}}},[i("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[0==e.couponList.length?i("v-uni-view",{staticClass:"iscou"},[i("v-uni-image",{staticClass:"nocou",attrs:{src:"../../static/noCoupon.png"}})],1):i("v-uni-view",[i("v-uni-view",{staticClass:"coupon-item",attrs:{v:!0}},[i("v-uni-view",{staticClass:"con"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"title "},[e._v("不使用")])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-radio",{attrs:{value:"no",color:"#FA436A"}})],1)],1)],1),e._l(e.couponList,function(t,a){return i("v-uni-view",{key:a,staticClass:"coupon-item"},[i("v-uni-view",{staticClass:"con"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"title coutit"},[e._v(e._s(t.coupon_title))]),i("v-uni-text",{staticClass:"time"},[e._v("有效期至 "+e._s(t.coupon_start_time)+"~"+e._s(t.coupon_end_time))])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-radio",{attrs:{value:t,color:"#FA436A"}})],1),i("v-uni-view",{staticClass:"circle l"}),i("v-uni-view",{staticClass:"circle r"})],1),i("v-uni-text",{staticClass:"tips"},[1==t.coupon_type?i("v-uni-view",[i("v-uni-text",{staticClass:"time"},[e._v("￥"+e._s(t.coupon_price))])],1):2==t.coupon_type?i("v-uni-view",[i("v-uni-text",{staticClass:"time"},[e._v(e._s(10*t.coupon_discount)+"折")])],1):e._e()],1)],1)})],2)],1)],1)],1)],1)],1)},n=[];i.d(t,"b",function(){return o}),i.d(t,"c",function(){return n}),i.d(t,"a",function(){return a})},c496:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("e814"));i("c5f6");var n={data:function(){return{maskState:0,desc:"",payType:1,couponList:[],addressData:[{real_name:"",phone:"",province:"",city:"",district:"",detail:""}],cartId:0,cartInfo:[],cartInfoId:"",total:0,coupon:[],isCoupon:!1,couponName:"",priceA:0,couponInfoA:[],isTotal:0,discountPrice:0,isCouponName:"选择优惠券",isZf:1,now_money:0,confirmOrder:null,address:"",isClick:!0,userInfo:[],check:!1,deductIntPrice:0,integral:0,isMer:!1,merIds:""}},onLoad:function(e){getApp().user_api(!0),this.cartId=e.cartId,this.address=e.address,this.confirm_order()},onShow:function(){this.addressData=[],this.addressIist()},methods:{confirm_order:function(){var e=this,t="/gzh/deal_api/confirm_order",i={cartId:e.cartId};console.log("啊啊啊啊啊",e.cartId,getApp().globalData.userInfo),getApp().http(t,i,function(t){e.cartInfo=t.cartInfo,e.confirmOrder=t;for(var i=0;i<t.cartInfo.length;i++){var a=t.cartInfo[i].mer_id;1==a&&(e.couponName="选择优惠券",e.isCoupon=!0),console.log("产品",e.cartInfo,a)}var o="/gzh/user_api/my";getApp().http(o,{},function(t){console.log("个人信息",t),e.userInfo=t,e.now_money=t.now_money,e.integral=t.integral,e.totalCount(),e.getUIseCouponOrder()})},!1,"post")},totalCount:function(){var e=this,t=e.cartInfo,i=0;for(var a in t){var o=t[a].productInfo.attrInfo?t[a].productInfo.attrInfo.price:t[a].productInfo.price;i=Number(i)+Number(t[a].cart_num)*Number(o),e.total=i,e.isTotal=Number(i)+Number(e.confirmOrder.priceGroup.storePostage),e.cartInfoId+=t[a].productInfo.id+",",e.merIds+=t[a].mer_id+",",console.log(e.merIds,"商铺id")}},getUIseCouponOrder:function(){var e=this;console.log("商品id",e.cartInfo);var t="/gzh/coupons_api/get_use_coupon_order",i={totalPrice:e.total,pids:e.cartInfoId,mer_ids:e.merIds};getApp().http(t,i,function(t){e.couponList=t,console.log("地址",e.couponList)})},radioChange:function(e){var t=this;t.coupon=e.detail.value;var i=t.coupon,a=i.coupon_discount,n=i.coupon_price,s=t.cartInfo,c=i.coupon_type,l=i.coupon_products;if(console.log("sdfsdf对对对",i,t.coupon),"no"==i)t.isCoupon=!1,t.discountPrice=0,t.isTotal=t.total+Number(t.confirmOrder.priceGroup.storePostage),t.isCouponName="不使用",console.log("不使用");else{if(t.isCoupon=!0,t.couponName=i.coupon_title,""==l){for(var r=0;r<s.length;r++)i.mer_id==s[r].mer_id&&t.priceA<s[r].truePrice&&(t.priceA=s[r].truePrice,t.couponInfoA=s[r],console.log("不是电",t.priceA,t.couponInfoA));console.log("折扣金额",t.couponList,i),console.log("全部商品",t.priceA)}else for(var d=0;d<l.length;d++)for(var u=0;u<s.length;u++)i.mer_id==s[u].mer_id&&s[u].product_id===(0,o.default)(l[d])&&t.priceA<s[u].truePrice&&(t.priceA=s[u].truePrice,t.couponInfoA=s[u]);if(2==c){var v=t.couponInfoA.truePrice,f=v-v*a,p=t.total-f;t.discountPrice=f,t.isTotal=p+Number(t.confirmOrder.priceGroup.storePostage),console.log("折扣金额",t.couponList,i)}else if(1==c){var b=t.couponInfoA.truePrice;if(n>=b){console.log("大");var g=t.total-b;t.discountPrice=b,t.isTotal=g+Number(t.confirmOrder.priceGroup.storePostage)}else{console.log("小");var m=b-(b-n),h=t.total-m;t.discountPrice=m+Number(t.confirmOrder.priceGroup.storePostage),t.isTotal=h}}}},addressIist:function(){var e=this,t="/gzh/user_api/user_address_list";getApp().http(t,{},function(t){console.log("地址少时诵诗书",e.address),""==e.address||void 0==e.address||null==e.address?(console.log("灌灌灌灌",e.address),e.addressData=t[0]?t[0]:e.addressData):(console.log("是是是",e.address),e.addressData=t[e.address])})},clickAdd:function(){uni.navigateTo({url:"/pages/address/address?source=1&cartId="+this.cartId+"&adr=3"})},indexUrl:function(e){var t=e.indexOf("http");return-1==t?this.webUrl+"/"+e:e},checkboxChange:function(e){var t=this;t.check=!t.check;var i=t.userInfo.integral,a=t.confirmOrder.integralRatio;if(t.check){var o=i*a,n=t.total/a;if(o>t.total){var s=i-n;t.userInfo.integral=s.toFixed(2),t.deductIntPrice=t.total,t.isTotal=t.isTotal-t.deductIntPrice,console.log("积分大",n,o,t.userInfo.integral)}else{t.userInfo.integral=0,t.deductIntPrice=o.toFixed(2);var c=t.isTotal-t.deductIntPrice;t.isTotal=c.toFixed(2),console.log("商品金额大",t.isTotal,n,o)}}else t.isTotal=t.total+Number(t.confirmOrder.priceGroup.storePostage),t.userInfo.integral=t.integral},toggleMask:function(e){var t=this,i="show"===e?10:300,a="show"===e?1:0;this.maskState=2,setTimeout(function(){t.maskState=a},i)},numberChange:function(e){this.number=e.number},changePayType:function(e){this.payType=e},payment:function(e){var t=this;t.isZf=e,1==t.isZf?console.log("微信支付"):console.log("余额支付")},formSubmit:function(e){uni.showLoading({mask:!0});var t=this,i=t.isZf;if(1==i)var a="weixin";else if(2==i){a="yue";if(t.now_money<t.isTotal)return getApp().showTip("余额不足","none"),!1}var o=t.addressData.id,n=t.coupon.id?t.coupon.id:"0",s=e.detail.value.mark,c=t.confirmOrder.combination_id,l=t.confirmOrder.seckill_id,r=t.confirmOrder.presale_id,d=t.check?1:0;console.log("提交",t.check,d);var u="/gzh/deal_api/create_order?key="+t.confirmOrder.orderKey,v={payType:a,addressId:o,couponId:n,mark:s,pinkId:0,useIntegral:d,presale_id:r,combinationId:c,seckill_id:l,bargainId:0};getApp().http(u,v,function(e){if(console.log("创建订单返回",a,e),200==e.code){var i=e.data.status,o=e.data.result.orderId,n=e.data.result.jsConfig,s="/pages/money/paySuccess?order_id="+o+"&msg="+e.msg,c="/pages/order/order?state=0";switch(console.log("创建订单返回2",i),i){case"ORDER_EXIST":case"EXTEND_ORDER":case"PAY_ERROR":uni.hideLoading(),getApp().showTip(e.msg,"none");break;case"SUCCESS":uni.hideLoading(),uni.redirectTo({url:s}),getApp().showTip(e.msg,"success");break;case"WECHAT_PAY":console.log("微信支付");var l="/gzh/auth_api/get_jsdk";uni.request({url:t.webUrl+l,method:"GET",header:{"X-Requested-With":"XMLHttpRequest"},data:{url:btoa(window.location.href)},success:function(e){console.log("微信支付");var t=JSON.parse(e.data);console.log("微信支付11",t),mapleWx(t,function(){this.chooseWXPay(n,function(){console.log("执行着了么#####"),uni.hideLoading(),uni.redirectTo({url:s})},{fail:function(e){console.log("失败",e),uni.showToast({title:"支付失败"}),uni.redirectTo({url:c})},cancel:function(){uni.showToast({title:"您已取消支付"}),uni.redirectTo({url:c})},success:function(){console.log("成功过过"),window.history.back(-1)}})})}});break}}else getApp().showTip(e.msg,"none")},!0,"post")},stopPrevent:function(){}}};t.default=n},d2e8:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-ea3e469e]{background:#f8f8f8;padding-bottom:%?100?%}.int-s[data-v-ea3e469e]{color:#fa436a;font-size:%?35?%;margin:0 %?9?%}.coutit[data-v-ea3e469e]{color:#fa436a}.iscou[data-v-ea3e469e]{text-align:center}.nocou[data-v-ea3e469e]{width:%?414?%;height:%?336?%}\n/*  支付 */.zf[data-v-ea3e469e]{border:1px solid #eee;border-radius:%?6?%;margin:10px 15px;padding:%?16?% %?0?%;text-align:center;font-size:%?28?%}.zfimg[data-v-ea3e469e]{border-right:1px solid #eee;width:50%;text-align:center}.zhfimg[data-v-ea3e469e]{width:%?40?%;height:%?40?%;margin-right:%?8?%}.zftit[data-v-ea3e469e]{width:50%;color:#797979}.is[data-v-ea3e469e]{border:1px solid #fa436a;color:#fa436a}.address-section[data-v-ea3e469e]{padding:%?30?% 0;background:#fff;position:relative}.address-section .order-content[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address-section .icon-shouhuodizhi[data-v-ea3e469e]{-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?90?%;color:#888;font-size:%?44?%}.address-section .cen[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#303133}.address-section .name[data-v-ea3e469e]{font-size:%?34?%;margin-right:%?24?%}.address-section .address[data-v-ea3e469e]{margin-top:%?16?%;margin-right:%?20?%;color:#909399}.address-section .icon-you[data-v-ea3e469e]{font-size:%?32?%;color:#909399;margin-right:%?30?%}.a-bg[data-v-ea3e469e]{display:block;width:100%;height:%?5?%}.goods-section[data-v-ea3e469e]{margin-top:%?16?%;background:#fff;padding-bottom:1px}.goods-section .g-header[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;padding:0 %?30?%;position:relative}.goods-section .logo[data-v-ea3e469e]{display:block;width:%?50?%;height:%?50?%;border-radius:100px}.goods-section .name[data-v-ea3e469e]{font-size:%?30?%;color:#606266;margin-left:%?24?%}.goods-section .g-item[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% %?30?%}.goods-section .g-item uni-image[data-v-ea3e469e]{-webkit-flex-shrink:0;flex-shrink:0;display:block;width:%?140?%;height:%?140?%;border-radius:%?4?%}.goods-section .g-item .right[data-v-ea3e469e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?24?%;overflow:hidden}.goods-section .g-item .title[data-v-ea3e469e]{font-size:%?30?%;color:#303133}.goods-section .g-item .spec[data-v-ea3e469e]{font-size:%?26?%;color:#909399}.goods-section .g-item .price-box[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;color:#303133;padding-top:%?10?%}.goods-section .g-item .price-box .price[data-v-ea3e469e]{margin-bottom:%?4?%}.goods-section .g-item .price-box .number[data-v-ea3e469e]{font-size:%?26?%;color:#606266;margin-left:%?20?%}.goods-section .g-item .step-box[data-v-ea3e469e]{position:relative}.yt-list[data-v-ea3e469e]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-ea3e469e]{background:#fafafa}.yt-list-cell.b-b[data-v-ea3e469e]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-ea3e469e]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-ea3e469e]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-ea3e469e]{background:#3ab54a}.yt-list-cell .cell-more[data-v-ea3e469e]{-webkit-align-self:center;align-self:center;font-size:%?24?%;color:#909399;margin-left:%?8?%;margin-right:%?-10?%}.yt-list-cell .cell-tit[data-v-ea3e469e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#909399;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-ea3e469e]{font-size:%?26?%;color:#303133}.yt-list-cell .cell-tip.disabled[data-v-ea3e469e]{color:#909399}.yt-list-cell .cell-tip.active[data-v-ea3e469e]{color:#fa436a}.yt-list-cell .cell-tip.red[data-v-ea3e469e]{color:#fa436a}.yt-list-cell.desc-cell .cell-tit[data-v-ea3e469e]{max-width:%?90?%}.yt-list-cell .desc[data-v-ea3e469e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#303133}\n/* 支付列表 */.pay-list[data-v-ea3e469e]{padding-left:%?40?%;margin-top:%?16?%;background:#fff}.pay-list .pay-item[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-right:%?20?%;line-height:1;height:%?110?%;position:relative}.pay-list .icon-weixinzhifu[data-v-ea3e469e]{width:%?80?%;font-size:%?40?%;color:#6bcc03}.pay-list .icon-alipay[data-v-ea3e469e]{width:%?80?%;font-size:%?40?%;color:#06b4fd}.pay-list .icon-xuanzhong2[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?60?%;height:%?60?%;font-size:%?40?%;color:#fa436a}.pay-list .tit[data-v-ea3e469e]{font-size:%?32?%;color:#303133;-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer[data-v-ea3e469e]{position:fixed;left:0;bottom:0;z-index:995;display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?90?%;width:100%;height:%?90?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?30?%;background-color:#fff;z-index:998;color:#606266;box-shadow:0 -1px 5px rgba(0,0,0,.1)}.footer .price-content[data-v-ea3e469e]{padding-left:%?30?%}.footer .price-tip[data-v-ea3e469e]{color:#fa436a;margin-left:%?8?%}.footer .price[data-v-ea3e469e]{font-size:%?36?%;color:#fa436a}.footer .submit[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?280?%;height:100%;color:#fff;font-size:%?32?%;background-color:#fa436a;border-radius:%?0?%;margin:0}\n/* 优惠券面板 */.mask[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;position:fixed;left:0;top:var(--window-top);bottom:0;width:100%;background:transparent;z-index:9995;-webkit-transition:.3s;transition:.3s}.mask .mask-content[data-v-ea3e469e]{width:100%;min-height:40vh;max-height:70vh;background:#f3f3f3;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:.3s;transition:.3s;overflow-y:scroll}.mask.none[data-v-ea3e469e]{display:none}.mask.show[data-v-ea3e469e]{background:rgba(0,0,0,.4)}.mask.show .mask-content[data-v-ea3e469e]{-webkit-transform:translateY(0);transform:translateY(0)}\n/* 优惠券列表 */.coupon-item[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin:%?20?% %?24?%;background:#fff}.coupon-item .con[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:%?120?%;padding:0 %?30?%}.coupon-item .con[data-v-ea3e469e]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #f3f3f3;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-item .left[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;height:%?100?%}.coupon-item .title[data-v-ea3e469e]{font-size:%?32?%;margin-bottom:%?10?%}.coupon-item .time[data-v-ea3e469e]{font-size:%?24?%;color:#909399}.coupon-item .right[data-v-ea3e469e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?26?%;color:#606266;height:%?100?%}.coupon-item .price[data-v-ea3e469e]{font-size:%?44?%;color:#fa436a}.coupon-item .price[data-v-ea3e469e]:before{content:"\\FFE5";font-size:%?34?%}.coupon-item .tips[data-v-ea3e469e]{font-size:%?24?%;color:#909399;line-height:%?60?%;padding-left:%?30?%}.coupon-item .circle[data-v-ea3e469e]{position:absolute;left:%?-6?%;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f3f3f3;border-radius:100px}.coupon-item .circle.r[data-v-ea3e469e]{left:auto;right:%?-6?%}body.?%PAGE?%[data-v-ea3e469e]{background:#f8f8f8}',""])},de63:function(e,t,i){var a=i("d2e8");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("a39eb5ec",a,!0,{sourceMap:!1,shadowMode:!1})},ee4c:function(e,t,i){"use strict";i.r(t);var a=i("c496"),o=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);t["default"]=o.a},f81d:function(e,t,i){"use strict";var a=i("de63"),o=i.n(a);o.a}}]);