(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-user_sgin"],{"0e52":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var n=i(a("e814")),r={data:function(){return{days:[],SignUp:[],cur_year:0,cur_month:0,today:(0,n.default)((new Date).getDate()),toMonth:(0,n.default)((new Date).getMonth()+1),toYear:(0,n.default)((new Date).getFullYear()),weeks_ch:["日","一","二","三","四","五","六"],weeks_en:["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],data:[]}},props:{sendYear:{type:Number,default:(new Date).getFullYear()},sendMonth:{type:Number,default:(new Date).getMonth()+1},dataSource:{type:Array,default:function(){return[]}},langType:{type:String,default:"ch"}},created:function(){this.cur_year=this.sendYear,this.cur_month=this.sendMonth,this.SignUp=this.dataSource,this.calculateEmptyGrids(this.cur_year,this.cur_month),this.calculateDays(this.cur_year,this.cur_month),this.onJudgeSign()},watch:{dataSource:"onResChange"},methods:{getThisMonthDays:function(t,e){return new Date(t,e,0).getDate()},getFirstDayOfWeek:function(t,e){return new Date(Date.UTC(t,e-1,1)).getDay()},calculateEmptyGrids:function(t,e){this.days=[];var a=this.getFirstDayOfWeek(t,e);if(a>0)for(var i=0;i<a;i++){var n={date:null,isSign:!1};this.days.push(n)}},calculateDays:function(t,e){for(var a=this.getThisMonthDays(t,e),i=1;i<=a;i++){var n={date:i,isSign:!1};this.days.push(n)}},onResChange:function(t,e){this.SignUp=t,this.onJudgeSign()},onJudgeSign:function(t){var e=this,a="/gzh/user_api/get_sign_list",i=t||e.cur_year+"-"+e.cur_month,r={date:i};getApp().http(a,r,function(t){e.data=t;var a=t.list,i=e.days;console.log("第三个地方官",a,i);for(var r=0;r<a.length;r++){var s=a[r].add_time;s=(0,n.default)(s);for(var c=0;c<i.length;c++)s==i[c].date&&(i[c].isSign=!0)}e.days=i})},handleCalendar:function(t){var e,a=(0,n.default)(this.cur_year),i=(0,n.default)(this.cur_month),r=a;0===t?(e=i-1,e<1&&(r=a-1,e=12)):(e=i+1,e>12&&(r=a+1,e=1));var s=this.cur_year+"-"+e;this.onJudgeSign(s),this.calculateEmptyGrids(r,e),this.calculateDays(r,e),this.cur_year=r,this.cur_month=e,this.SignUp=[],this.$emit("dateChange",this.cur_year+"-"+this.cur_month)},clickSignUp:function(t,e){var a=this,i=a.cur_year+"-"+a.cur_month,n="/gzh/user_api/user_sign";getApp().http(n,{},function(t){console.log("个人信息",t),200==t.code?uni.showToast({title:t.msg,icon:"success",duration:2e3}):uni.showToast({title:t.msg,icon:"none",duration:2e3})},!0),this.$forceUpdate(),this.$emit("clickChange",this.cur_year+"-"+this.cur_month+"-"+t),this.onJudgeSign(i)}}};e.default=r},"2c70":function(t,e,a){"use strict";var i=a("e0c7"),n=a.n(i);n.a},"31ca":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"all"},[a("v-uni-view",{staticClass:"bar"},[a("v-uni-view",{staticClass:"previous",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCalendar(0)}}},["ch"==t.langType?a("v-uni-button",{staticClass:"barbtn"},[t._v("上一月")]):a("v-uni-button",{staticClass:"barbtn"},[t._v("Last")])],1),a("v-uni-view",{staticClass:"date"},[t._v(t._s(t.cur_year||"--")+" 年 "+t._s(t.cur_month||"--")+" 月")]),a("v-uni-view",{staticClass:"next",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCalendar(1)}}},["ch"==t.langType?a("v-uni-button",{staticClass:"barbtn"},[t._v("下一月")]):a("v-uni-button",{staticClass:"barbtn"},[t._v("Next")])],1)],1),a("v-uni-view",{staticClass:"myDateTable"},["ch"==t.langType?a("v-uni-view",{staticClass:"week"},t._l(t.weeks_ch,function(e,i){return a("v-uni-view",{key:i},[t._v(t._s(e))])}),1):a("v-uni-view",{staticClass:"week"},t._l(t.weeks_en,function(e,i){return a("v-uni-view",{key:i},[t._v(t._s(e))])}),1),t._l(t.days,function(e,i){return a("v-uni-view",{key:i,staticClass:"dateCell"},[void 0==e.date||null==e.date?a("v-uni-view",{staticClass:"cell"},[a("v-uni-text",{attrs:{decode:!0}},[t._v("")])],1):a("v-uni-view",[1==e.isSign?a("v-uni-view",{staticClass:"cell greenColor bgWhite  "},[a("v-uni-text",[t._v(t._s(e.date))])],1):t.cur_year<t.toYear||t.cur_year==t.toYear&&t.cur_month<t.toMonth||t.cur_year==t.toYear&&t.cur_month==t.toMonth&&e.date<t.today?a("v-uni-view",{staticClass:"cell redColor bgGray"},[a("v-uni-text",[t._v(t._s(e.date))])],1):e.date==t.today&&t.cur_month==t.toMonth&&t.cur_year==t.toYear?a("v-uni-view",{staticClass:"cell whiteColor bgBlue",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickSignUp(e.date,1)}}},[a("v-uni-text",[t._v("签到")])],1):a("v-uni-view",{staticClass:"whiteColor cell"},[a("v-uni-text",[t._v(t._s(e.date))])],1)],1)],1)})],2),a("v-uni-view",{staticClass:"TipArea aces-space-between"},[a("v-uni-view",{staticClass:"leij"},[t._v("累计打卡"),a("v-uni-text",{staticClass:"leijnum"},[t._v(t._s(t.data.allday))]),t._v("天")],1),a("v-uni-view",{staticClass:"leij"},[t._v("本月打卡"),a("v-uni-text",{staticClass:"leijnum"},[t._v(t._s(t.data.monthday))]),t._v("天")],1)],1)],1)},r=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return i})},"5a80":function(t,e,a){"use strict";a.r(e);var i=a("31ca"),n=a("9a69");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("2c70");var s,c=a("f0c5"),o=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"d4c36af6",null,!1,i["a"],s);e["default"]=o.exports},"5dcc":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".all[data-v-d4c36af6]{margin-top:%?20?%}.all .bar[data-v-d4c36af6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:%?30?% %?20?%;padding:%?10?%}.bar .barbtn[data-v-d4c36af6]{height:%?60?%;line-height:%?60?%;font-size:%?24?%}.all .week[data-v-d4c36af6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;\r\n\t/* padding: 20upx;\r\n\tpadding-left: 40upx;\r\n\tpadding-right: 40upx; */\r\n\t/* border:1px solid red; */\r\n\t/* background-color: #fff; */padding:%?20?% %?36?% %?20?% %?20?%;border-radius:%?20?%;color:#fff;font-size:%?30?%}.myDateTable[data-v-d4c36af6]{margin:%?20?%;\r\n\t/* padding: 20upx 0upx 20upx 18upx; */border-radius:%?20?%;background:-webkit-linear-gradient(#74aada,#94db98);background:linear-gradient(#74aada,#94db98)}.myDateTable .dateCell[data-v-d4c36af6]{\r\n\t/* width: 11vw; */\r\n\t/* width: 22upx; */width:%?65?%;\r\n\t/* padding: 1vw; */display:inline-block;text-align:center;font-size:16px;margin:%?19?%}.dateCell .cell[data-v-d4c36af6]{display:-webkit-box;display:-webkit-flex;display:flex;border-radius:50%;height:%?65?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.whiteColor[data-v-d4c36af6]{color:#fff}.greenColor[data-v-d4c36af6]{color:#01b90b;font-weight:700}.bgWhite[data-v-d4c36af6]{background-color:#fff}.bgGray[data-v-d4c36af6]{background-color:hsla(0,0%,100%,.42)}.bgBlue[data-v-d4c36af6]{font-size:14px;background-color:#4b95e6}.redColor[data-v-d4c36af6]{color:red}.TipArea[data-v-d4c36af6]{word-break:break-all;word-wrap:break-word;font-size:14px;padding:20px;margin:%?0?% %?20?%;border-radius:%?20?%;background:-webkit-linear-gradient(#74aada,#94db98);background:linear-gradient(#74aada,#94db98)}.impTip[data-v-d4c36af6]{display:inline-block;color:red}\r\n\r\n/* 总打卡 */.leij[data-v-d4c36af6]{color:#e3f7f2}.leijnum[data-v-d4c36af6]{color:#fff;font-size:%?50?%;font-weight:700}",""])},"9a69":function(t,e,a){"use strict";a.r(e);var i=a("0e52"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},e0c7:function(t,e,a){var i=a("5dcc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("b093a328",i,!0,{sourceMap:!1,shadowMode:!1})}}]);